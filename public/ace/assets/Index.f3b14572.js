import"./vendor-others.11f5dab8.js";import{L as B}from"./Chatdoc.ca12b9eb.js";import{_ as y,F as g,m as F}from"./index.5f82e941.js";import{a2 as w}from"./vendor-fortawesome.8c26b529.js";import{e as z,E as M,y as T,A as U,I as q,D as _,q as L,l as O,m as H,f as x,g as G,h as K}from"./vendor-element-plus.4011bc9f.js";import{d as C,ak as o,o as u,e as v,R as t,I as s,O as V,P as r,f as n,Q as b,H as $,ah as P,M as Q}from"./vendor-@vue.e467cd49.js";import{A as j}from"./Status.a3113516.js";import"./vendor-highlight.js.5674318b.js";import"./vendor-axios.938e43d7.js";import"./vendor-qrcode.f15bf907.js";import"./application.ea1e2a72.js";import"./vendor-markdown.2cd127bb.js";const J=C({name:"CreateRepository",components:{ElButton:z,ElDialog:M,ElForm:T,ElFormItem:U,ElInput:q,FontAwesomeIcon:w},data(){return{dialogVisible:!1,creating:!1,form:{name:"",description:""}}},computed:{},methods:{async onSubmit(){if(!this.form.name){_.error(this.$t("chatdoc.message.nameRequired"));return}this.creating=!0,this.$store.dispatch("chatdoc/createRepository",{name:this.form.name,description:this.form.description}).then(()=>{this.creating=!1,_.success(this.$t("chatdoc.message.createRepositorySuccess")),this.dialogVisible=!1,this.$store.dispatch("chatdoc/getRepositories")}).catch(()=>{this.creating=!1,_.error(this.$t("chatdoc.message.createRepositoryFailed"))})}}});function W(e,a,k,R,E,D){const p=o("el-input"),l=o("el-form-item"),d=o("el-button"),m=o("el-form"),h=o("el-dialog"),f=o("font-awesome-icon");return u(),v(b,null,[t(h,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[2]||(a[2]=i=>e.dialogVisible=i),width:"400px"},{default:s(()=>[t(m,{ref:"form","label-width":"60px"},{default:s(()=>[t(l,{label:e.$t("chatdoc.field.name"),prop:e.form.name},{default:s(()=>[t(p,{modelValue:e.form.name,"onUpdate:modelValue":a[0]||(a[0]=i=>e.form.name=i),placeholder:e.$t("chatdoc.message.inputRepositoryName")},null,8,["modelValue","placeholder"])]),_:1},8,["label","prop"]),t(l,{label:e.$t("chatdoc.field.description"),prop:e.form.description},{default:s(()=>[t(p,{modelValue:e.form.description,"onUpdate:modelValue":a[1]||(a[1]=i=>e.form.description=i),placeholder:e.$t("chatdoc.message.inputRepositoryDescription")},null,8,["modelValue","placeholder"])]),_:1},8,["label","prop"]),t(l,null,{default:s(()=>[t(d,{type:"primary",round:"",onClick:e.onSubmit},{default:s(()=>[V(r(e.$t("common.button.create")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},512)]),_:1},8,["modelValue"]),n("button",{class:"btn btn-create",onClick:a[3]||(a[3]=i=>e.dialogVisible=!0)},[t(f,{icon:["fas","plus"]})])],64)}var X=y(J,[["render",W],["__scopeId","data-v-41eec665"],["__file","D:/react/Nexior/src/components/chatdoc/CreateRepository.vue"]]);const Y=C({name:"ChatdocKnowledge",components:{Layout:B,ElCard:L,ElRow:O,ElCol:H,CreateRepository:X,FontAwesomeIcon:w,ElDropdown:x,ElDropdownItem:G,ElDropdownMenu:K,ApplicationStatus:j},data(){return{}},computed:{repositories(){return this.$store.state.chatdoc.repositories},needApply(){return this.$store.state.chatdoc.status.getApplication===g.Success&&!this.application},application(){return this.$store.state.chatdoc.application},service(){return this.$store.state.chatdoc.service},initializing(){return this.$store.state.chatdoc.status.getApplication===g.Request}},async mounted(){},methods:{onCreate(){console.log("onCreate")},onClick(e){this.$router.push({name:F,params:{repositoryId:e.id}})},onDelete(e){this.$store.dispatch("chatdoc/deleteRepository",{id:e}).then(()=>{_.success(this.$t("chatdoc.message.deleteRepositorySuccess")),this.$store.dispatch("chatdoc/getRepositories")})}}}),Z={class:"wrapper"},ee={class:"title"},oe={class:"introduction"},te={class:"status"},se={class:"operation"},ae={class:"name"},ne={class:"id"},ie={class:"description"};function re(e,a,k,R,E,D){const p=o("application-status"),l=o("create-repository"),d=o("el-card"),m=o("el-col"),h=o("font-awesome-icon"),f=o("el-dropdown-item"),i=o("el-dropdown-menu"),le=o("el-dropdown"),I=o("el-row"),A=o("layout");return u(),$(A,null,{chatdoc:s(()=>[n("div",Z,[n("div",ee,r(e.$t("chatdoc.title.repositories")),1),n("div",oe,r(e.$t("chatdoc.message.introductionForRepository")),1),n("div",te,[t(p,{"show-price":!1,initializing:e.initializing,application:e.application,"need-apply":e.needApply,service:e.service,onRefresh:a[0]||(a[0]=c=>e.$store.dispatch("chatdoc/getApplication"))},null,8,["initializing","application","need-apply","service"])]),t(I,{class:"repositories",gutter:15},{default:s(()=>[t(m,{xl:4,md:6,sm:12,xs:24},{default:s(()=>[t(d,{class:"repository text-center",shadow:"hover",onClick:e.onCreate},{default:s(()=>[t(l),n("p",se,r(e.$t("chatdoc.title.createRepository")),1)]),_:1},8,["onClick"])]),_:1}),(u(!0),v(b,null,P(e.repositories,(c,N)=>(u(),$(m,{key:N,xl:4,md:6,sm:12,xs:24},{default:s(()=>[t(d,{class:"repository",shadow:"hover",onClick:S=>e.onClick(c)},{default:s(()=>[Q("v-if",!0),n("h2",ae,r(c.name),1),n("p",ne,[t(h,{icon:["fas","book"]}),V(" ID: "+r(c.id),1)]),n("p",ie,r(c.description),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])]),_:1})}var Ce=y(Y,[["render",re],["__scopeId","data-v-52a67922"],["__file","D:/react/Nexior/src/pages/chatdoc/Index.vue"]]);export{Ce as default};
